import os
from django.conf import settings
from django.http import JsonResponse
from django.http import FileResponse
from django.views.decorators.csrf import csrf_exempt
import cv2
import json
import numpy as np
from django.apps import apps 
from django.http import HttpResponse


@csrf_exempt
def upload_image(request):
    if request.method == 'POST':
        image_file = request.FILES.get('image')
        if image_file:
            # 업로드 경로 설정
            upload_dir = os.path.join(settings.MEDIA_ROOT, 'uploads')
            os.makedirs(upload_dir, exist_ok=True)  # 폴더가 없으면 생성

            # 파일명 고정이 아닌 유니크하게 저장 (중복 방지)
            file_name = getUniqueFileName()
            upload_path = os.path.join(upload_dir, file_name)
            with open(upload_path, 'wb+') as destination:
                for chunk in image_file.chunks():
                    destination.write(chunk)
            print(file_name, '정상 저장')

            # 이미지 처리 로직
            
            predictor = apps.get_app_config('Server')  # 초기화된 AppConfig 인스턴스 가져오기
            result = predictor.pred(upload_path) # 업로드 된 이미지 경로 전달 
            if not result == -1: #
                response = {'result': result} # 결과 전달 
                # 금지 클래스랑 만난 경우 4가지 result 값이 1: crosswalk', 2:'braille_block', 3: 'bike_road', 4: 'car_road'
                # 킥보드가 누워 있는 경우 result 값이 5
                # 킥보드가 이미지 지정한 위치 내에 없는 경우 result 값이 6, 있긴 한데 킥보드의 pose 값이 검출이 되지 않는 경우 즉 잘 안보이는 경우 7 
                # 업로드 성공 시 성공 상태 코드 200과 함께 응답 반환
                return JsonResponse(response, status=200)

    # 이미지 파일이 없거나 요청이 POST가 아닌 경우 오류 반환
    return JsonResponse({'error': 'Invalid request'}, status=400)

def serve_image(request, filename):

    # 이미지 파일 경로
    file_path = os.path.join(settings.MEDIA_ROOT, 'uploads', filename)
    
    # 파일 존재 여부 확인
    if os.path.exists(file_path):
        with open(file_path, 'rb') as f:
            return HttpResponse(f.read(), content_type="image/jpeg")
    else:
        return HttpResponse(status=404)
    
import os

def getUniqueFileName():
    upload_dir = os.path.join(settings.MEDIA_ROOT, 'uploads')
    file_lst = os.listdir(upload_dir)

    # 파일 이름에서 번호를 추출하는 로직
    numbers = []
    for file in file_lst:
        # 파일 이름이 pm_로 시작하고, 확장자가 .jpg인 경우만 처리
        if file.startswith("pm_") and file.endswith(".jpg"):
            # 파일 이름에서 숫자 부분을 추출
            try:
                num = int(file.split('.')[0][3:])  # pm_ 이후 부분을 숫자로 변환
                numbers.append(num)
            except ValueError:
                # 숫자 변환에 실패하면 무시
                continue

    if numbers:
        last_num = max(numbers) + 1  # 가장 큰 번호를 찾아서 1 증가
    else:
        last_num = 1  # 파일이 없으면 1로 시작

    return f"pm_{last_num}.jpg"  # 새로운 파일 이름 반환

# 금지구역을 반환하는 함수
def forbidden_zones(request):
    forbidden_zones_data = [
        # rotc
        [[35.142126245081215, 129.03673066546094], [35.14232841709078, 129.03695394054552], [35.142233174788075, 129.03707861981843], [35.1421777751121, 129.03701556177958], [35.14218967658307, 129.03699744558327], [35.142046847035346, 129.03683624633175]],
        # 효민축구장
        [[35.14254839199744, 129.03692349067916], [35.14210727350341, 129.0375661327431], [35.142826985238315, 129.03830720418455], [35.14327155506024, 129.03767781779686]],
        # 효민 생활관 앞 테니스장 
        [[35.14310408271214, 129.03822522788863], [35.14311354049104, 129.03835214110586], [35.14331068340559, 129.03832397575593], [35.14329758661877, 129.0381931646058]],
        # 효민 생활관 
        [[35.143448073967335, 129.03810153467407], [35.14358068559282, 129.03808801050616], [35.143648483192564, 129.03804385468618], [35.14379509138756, 129.03797623384963], [35.14394774580393, 129.03795862225513], [35.14418279662752, 129.03801552810688], [35.144123902823296, 129.03817738551317], [35.143768153010726, 129.03826045386836], [35.14353089354353, 129.038292859533], [35.14352567725744, 129.0382227995034], [35.14349393552067, 129.03822637405983], [35.14346823617919, 129.03826694657533]],
        # 효민 야구장 
        [[35.137841478154755, 129.03304009469844], [35.1382008032506, 129.03449559138437], [35.138986148967575, 129.03435065959894], [35.139056275307354, 129.0326644442706]],
        # 대학 본관 
        [[35.13943986648029, 129.03360679750193], [35.13962870459322, 129.03363539370764], [35.13978743608554, 129.0324697584242], [35.13959358063114, 129.0324554941268]],
        # 법정관
        [[35.139390788152355, 129.03384541880757], [35.139346546208984, 129.03460172955005], [35.13959718836513, 129.03460172955005], [35.13963225134633, 129.03386684914028]],
        # 국제관
        [[35.14132847448849, 129.0322446476078], [35.14128753792731, 129.03252939525072], [35.14064760462506, 129.0326774210553], [35.140738656871804, 129.03211499100183]],
        # 헹복기숙사
        [[35.142011759453595, 129.0333207218838], [35.14196400723503, 129.03396053564308], [35.14147191521185, 129.03387683382533], [35.14151621717882, 129.03322562132547]],
        # 제2효민생활관
        [[35.143246385787066, 129.03262519778826], [35.143157845157646, 129.03303243698326], [35.14274518448728, 129.03278338296775], [35.142827851366334, 129.03235878538482]],
        # 음악관
        [[35.144903207652405, 129.03379073332604], [35.14485768390449, 129.03402141822426], [35.14438736194411, 129.03392188760301], [35.14444331852536, 129.0337039703163]],
        # 제1인문관, 제2인문관
        [[35.14211588768441, 129.03562380818556], [35.141959608453476, 129.0360494494235], [35.140776673843405, 129.03546562300608], [35.140886083121785, 129.0349353699097]],
        # 효민체육관
        [[35.14282175511684, 129.03601723324783], [35.14269227817074, 129.03637448061016], [35.14224700096135, 129.0360784959576], [35.142391531229464, 129.03576205784378]],
        # 중앙도서관
        #[[35.142759826379645, 129.0347323600219], [35.14266877646071, 129.0351242913561], [35.142131591840595, 129.0349701770483], [35.14218507178671, 129.0346996936815]],
        # 수덕전
        [[35.141910323265336, 129.03459656794683], [35.14185439553188, 129.0348201206765], [35.14123784132107, 129.034614971013], [35.14130631362396, 129.03434754882204]],
        # 상영관
        [[35.141070374699964, 129.0341930916034], [35.14104069720074, 129.03439519705609], [35.14059415651073, 129.03425637235506], [35.140617562114386, 129.0340690864291]],
        # 동의스포츠센터
        [[35.14024259841601, 129.03425171158403], [35.14022754513704, 129.03439970337809], [35.14010975181084, 129.0344027655969], [35.14010057310462, 129.0346375542925], [35.139911736086304, 129.0346160901533], [35.13993260245168, 129.03424151819934], [35.14024259841601, 129.03424151819934]],
        # 자연과학관
        [[35.14387564457098, 129.0346854286509], [35.14355984954021, 129.0346854286509], [35.14355397516911, 129.03586948604328], [35.143878153069764, 129.03594195095422]],
        # 지천관
        [[35.1443240537029, 129.03452323302412], [35.144342410161656, 129.0355337113781], [35.14401150331976, 129.0355623059462], [35.14406999973275, 129.03450890091102]],
        # 산학협력관, 건윤관
        [[35.145550535937986, 129.03581443297622], [35.145506236300704, 129.0360481790084], [35.1443417096941, 129.03577463448784], [35.144380135811005, 129.03554701076467]],
        # 공학관, 청년창업관
        [[35.14499797394018, 129.03629488032806], [35.14500378680678, 129.03661946040825], [35.14377408693295, 129.036428574019], [35.143818387646874, 129.03601827354765]],
        # 정보공학관
        [[35.146176242837996, 129.03656729086578], [35.146161252032485, 129.03680917884532], [35.14532084574289, 129.03661832630291], [35.145376771027685, 129.03639477359377]],
        # 커리어개발관
        [[35.14267620595852, 129.0336084207887], [35.1426039411093, 129.03374161058332], [35.14231365727393, 129.03366964961054], [35.14229609587416, 129.03378857506732], [35.142147175142966, 129.03375448018954], [35.142176393301625, 129.03349318088004], [35.14269102928215, 129.0336069927211]],
        # 야외음악당
        [[35.14209603135197, 129.03303790002286], [35.142013302551334, 129.0331389272926], [35.14155045993289, 129.03300217146443], [35.14172760590486, 129.03263473176122], [35.14209603135197, 129.03250813537892]],
        # 농구장
        [[35.14228781435962, 129.0358242995556], [35.1421875853749, 129.03602638814607], [35.14204054603188, 129.03593249294357], [35.14211403514754, 129.03572734221575]],
        # 국제관 축구장, 주차장
        [[35.14051360237454, 129.03218122547162],[35.140395013860285, 129.03274257885187],[35.14005907355683, 129.03274257885187],[35.14028303391308, 129.03216077100842]],
        # 혜안지 및 효민원
        [[35.14132058570591, 129.03318373341614],[35.141231981668696, 129.0339614736934],[35.139898627478715, 129.03378794750284],[35.13999396422433, 129.03293875039412]],
        # 정심정
        [[35.140900277965514, 129.03473923977606],[35.14080004727221, 129.0349841550631],[35.14022864445985, 129.03460245006056],[35.14034723335038, 129.03436560890367]],
        # 생활과학관, 의료보건관
        [[35.14414180577042, 129.03354336236077], [35.14411512762132, 129.0336831793839], 
        [35.144173562548744, 129.03371995060576], [35.14412094050084, 129.0339720647936], 
        [35.14385862528516, 129.03390367001737], [35.14388787345139, 129.03375157428349], 
        [35.143652296987966, 129.03369034546176], [35.143633879129524, 129.03375870643146], 
        [35.143548704402974, 129.03373727605765], [35.1435662655996, 129.03365155574807], 

        [35.14336014599026, 129.0336039560293],[35.143298345020526, 129.0338504522544],[35.14315840554367, 129.03380910622428],
        [35.14319514970555, 129.0335748552726],


        [35.1429837162496, 129.03352883684715],
        [35.14289237405164, 129.03384985081158],[35.14270816330543, 129.0337972846949],[35.142873160586646, 129.03327273782537],
        [35.14396267744371, 129.03357167010643],[35.14399397535439, 129.0334890113955]],
        # 의료보건관 옆 농구장
        [[35.14345558278805, 129.03391844929655], [35.14341590173221, 129.03415066477237], 
        [35.14331273705453, 129.03412005036114], [35.14336285090296, 129.0338863043084]],

        # 정보관 옆 농구장
        [[35.14652187271699, 129.0365593442977], [35.146515601046346, 129.03682422610285], 
        [35.14632430088423, 129.0368155464535], [35.14633139846694, 129.03654506304633]],

        #
        # 도로 시작
        #
        # 효민원 남쪽 도로
        [[35.13989839312461, 129.0338654809509], [35.13986914349135, 129.03390221824367], [35.139792286712364, 129.03461364980768],
        [35.139745475023815, 129.03460345646414], [35.139819027458316, 129.03390221824367], [35.13979393897411, 129.03385118276617]],
        # 법정관 북쪽 도로
        [[35.139897801574364, 129.03380605035449], [35.139876935200036, 129.03373156601066], [35.13996384581135, 129.03298582686477],
        [35.13991789087416, 129.03294293329355], [35.13982341135387, 129.03374004225964], [35.139778312924534, 129.03379107773708]],
        # 농구장 동쪽부터 야구장 북쪽까지
        [[35.14350843703346, 129.03424436818892], [35.13947843783063, 129.03372782465522], [35.1393815096592, 129.03362985858104], 
        [35.139406824159494, 129.03324203089926], [35.13936839562771, 129.03323180366692], [35.13931497494434, 129.0336339631745],
        [35.13926565418318, 129.03368297917876], [35.13921719005218, 129.0336911210843], [35.13920213685131, 129.03387383159782],
        [35.13925327483021, 129.03387038361808], [35.139196489096676, 129.03440579674793], [35.13926331084433, 129.03441192012127],
        [35.139322604961905, 129.03396590502558], [35.13953065761464, 129.0338168705277], [35.14348053208474, 129.03437505706592]],
        # 원 로타리
        [[35.143492562983965, 129.03425108325257], [35.14365716094771, 129.03415207345142], [35.143712292006924, 129.03413370529574],
        [35.143812519114135, 129.03415207345142], [35.14431126646875, 129.03439705647054], [35.144371414533964, 129.0344828107094],
        [35.144042282272224, 129.03449912742627], [35.14400385592887, 129.03455016192163], [35.14394872513407, 129.0345624076861],
        [35.14392865529878, 129.03452156653435], [35.143737379611025, 129.03457058352075], [35.14367973977289, 129.03455221438293],
        [35.14360117336412, 129.03449300405293], [35.14347169779178, 129.03435826677816]],
        #음악관 동쪽부터 정문
        [[35.14415840004841, 129.03390503701894], [35.14449169244344, 129.03394789670295], [35.145268594704305, 129.0342306257237],
        [35.14530787704658, 129.03427146785685], [35.14535633755118, 129.0343531172545], [35.145363007021075, 129.0344235645743],
        [35.14433271597724, 129.03447820206821], [35.14430095916059, 129.03439759533393], [35.14528590111013, 129.03435675420275],
        [35.145219159651475, 129.03429561816517], [35.14446899636171, 129.0340240917675], [35.14413484719864, 129.03398123112197]],
        # 생활과학관부터 농구장
        [[35.14348903958934, 129.03427281584686], [35.143566749425105, 129.03392068310376], [35.144061276156805, 129.03409622764224],
        [35.14412464215508, 129.03407681566222], [35.144184790358224, 129.03400640227153], [35.14426522958928, 129.03368567911917],
        [35.14425354267392, 129.03357852945823], [35.144182502959964, 129.03344173970163], [35.14400793229345, 129.03333865997126],
        [35.14291779051652, 129.03304368493792], [35.142767478222865, 129.03308339828988], [35.142586234924934, 129.03321302194962],
        [ 35.142526146172, 129.03321705895996], [35.14251109344919, 129.03328851501408], [35.14265641876146, 129.03326197106486],
        [35.14287278459926, 129.0331139792296], [35.14407177340067, 129.03343121326276], [35.14416698260378, 129.03353940660963],
        [35.144198739405795, 129.03370374904978], [35.1441293823015, 129.03399145491971], [35.144062564481615, 129.03402412130043],
        [35.14336580837433, 129.03377812942233], [35.14334745169528, 129.03384854283286], [35.14350703255097, 129.03390570068171],
        [35.143436848868035, 129.0342578335268]],
        # 효민야외음악당 북쪽부터 국제관 동쪽
        [[35.14257973713097, 129.03323029175766], [35.14265909998838, 129.03269951838973], [35.14263923890498, 129.03260969411633],
        [35.14255314516751, 129.03252905351462], [35.14163254233482, 129.03232901741626], [35.141516403134716, 129.03236575470902],
        [35.14142449512107, 129.03245759744067], [35.1413366396542, 129.03265689471243], [35.14082878726707, 129.0326885521875],
        [35.14058237108601, 129.03277531515988], [35.14043337688847, 129.03292125537598], [35.14002902446953, 129.03285696535863],
        [35.140515249391726, 129.0329421447389], [35.14065756113811, 129.03281255267132], [35.14085722722163, 129.032755394802],
        [35.14135519706612, 129.03272888474078], [35.14141797516295, 129.03265124418363], [35.14152407932227, 129.03244609345654],
        [35.14168531580884, 129.03241342713676], [35.142535498027286, 129.03260851806743], [35.142596504062666, 129.03269423841817],
        [35.14252717601947, 129.03323449140748]],
        # 효민원 서쪽부터 커리어 개발관 남쪽
        [[35.140024341362874, 129.03286267129516], [35.14004269872434, 129.03272692522444], [35.14008614461747, 129.03272282046555],
        [35.14020228605918, 129.03228903824333], [35.14016887551058, 129.0322767924788], [35.140057751903655, 129.0326656625154],
        [35.140009288177396, 129.03269018793173], [35.13997416424547, 129.0328749170597], [35.13991572690816, 129.0329767198403],
        [35.13996584274767, 129.03299508799597], [35.140057752408254, 129.03292568436285], [35.14037605776906, 129.03297379480944],
        [35.14132928935517, 129.03317692596056], [35.14126576342235, 129.03393995721422], [35.141242388661496, 129.03397262355463],
        [35.14135100185055, 129.03400323837468], [35.14132260944399, 129.03392976382958], [35.14138968304677, 129.03318070492105],
        [35.14159773034933, 129.03313781134904], [35.14210731874803, 129.03323259537564], [35.14204802555291, 129.0340828689944],
        [35.142095631368875, 129.0340746942241], [35.14217162900286, 129.033242823624], [35.14252916082462, 129.0332938581193],
        [35.14254090923259, 129.0332224020865], [35.14225350118713, 129.0331846561159], [35.14225680547683, 129.033129550586],
        [35.14245316342283, 129.03311932339483], [35.14247152030356, 129.0328958045128], [35.14258098854398, 129.0328958045128],
        [35.14258600606966, 129.03282845231763], [35.14247739452854, 129.03283252327077], [35.142479046635415, 129.03269267235896],
        [35.142431441077335, 129.03269267235896], [35.142413022942634, 129.03306832180533], [35.14231781165418, 129.0330601459707],
        [35.14233115109134, 129.03268247903526], [35.1422894196519, 129.03268247903526], [35.14226849271253, 129.0330621645029],
        [35.142211708529686, 129.0330989356837], [35.14219500373635, 129.03317035793123], [35.141585978754364, 129.0330621645029],
        [35.14133861358427, 129.0331050589462], [35.14085490106669, 129.0330315839342], [35.140440576606096, 129.03291215359826],
        [35.140024536546434, 129.03284887303442]],
        # 상경관 앞 약간
        [[35.14002652424996, 129.03291858482237], [35.13997389953768, 129.03288744909042], [35.13991582874158, 129.03294716375706],
        [35.13996135528694, 129.03299411182883]],
        # 커리어 개발관 동쪽
        [[35.142295101879796, 129.0337776644285], [35.14237030415302, 129.03411348149854], [35.14232514615756, 129.0341073241961],
        [35.142291736547236, 129.03400219302773], [35.14218398117538, 129.03390012207205], [35.142190650871754, 129.0337480592837],
        [35.142220756299295, 129.03376131480576], [35.142220756299295, 129.033869508193], [35.14227337955903, 129.03393484083267],
        [35.142240826622654, 129.03376743719696]],
        # 수덕전 서쪽
        [[35.14134685248884, 129.03406730765658], [35.141321764475535, 129.03409792157674], [35.14132341670624, 129.0342295976559],
        [35.14253204084032, 129.03465217760396], [35.14251031851589, 129.03472363365734], [35.14132904390678, 129.0343286411324],
        [35.141273911166394, 129.03427353470187], [35.14124215335711, 129.03418576195145], [35.141247232121, 129.0340908239666],
        [35.14123052706293, 129.03404180702137]],
        # 상영관부터 효만체육관까지
        [[35.140497920744636, 129.0339409544776], [35.14046451038445, 129.03399299870983], [35.14048121559969, 129.03423798181336],
        [35.1409340288526, 129.03460030765956], [35.14115963908051, 129.03487284236672], [35.142383196856784, 129.03565693401026],
        [35.1424577567264, 129.0356528630404], [35.14282608277155, 129.0358938019151], [35.142880357738704, 129.03596932793943],
        [35.142888740654215, 129.03607550275336], [35.142747576716545, 129.03641333831445], [35.142699114658626, 129.0363786534419],
        [35.14282773483788, 129.03605508217748], [35.14280601259233, 129.03597138035963], [35.14245184758035, 129.03572949337325],
        [35.14236495816232, 129.03572949337325], [35.14234592053798, 129.0357291465241], [35.1410885836397, 129.03491362524323],
        [35.14085537017901, 129.03463355392375], [35.14039925219852, 129.03425386841144], [35.140246396352126, 129.03422937688248],
        [35.14022130799968, 129.03414974503556], [35.14000493497984, 129.03413955169128], [35.14000328285623, 129.03408851623436],
        [35.140251352842085, 129.03410893777186], [35.14027142365106, 129.03417427045184], [35.1403958867206, 129.03419263958966],
        [35.1403958867206, 129.03418853474852], [35.14040261774305, 129.03397726167134], [35.14036584179786, 129.03391603284962]],
        # 지천관에서 정보공학관 서쪽까지
        [[35.1440058783254, 129.03451853345217], [35.144020948972525, 129.0356737791521], [35.14461826890566, 129.03605652681807],
        [35.145901880552515, 129.03633606158724], [35.145898576460894, 129.03640240402478], [35.14534550451377, 129.03631362251951],
        [35.14528456164784, 129.0366871855755], [35.145236101167384, 129.03662491409108], [35.145241118529285, 129.03646366673382],
        [35.1450949413008, 129.03642282562384], [35.145103262778775, 129.03636566673129], [35.1452594748483, 129.03639221068045],
        [35.14528284845552, 129.03630339524688], [35.14461039437502, 129.03612785068776], [35.143983352199925, 129.03575122477002],
        [35.14395035025976, 129.03563619477683], [35.143948637397955, 129.03450524411016]],
        # 지천관 북쪽부터 정보관 동쪽까지
        [[35.144845835412056, 129.03443108933925], [35.1448157921986, 129.0344647993245], [35.14462115265263, 129.03509744425565],
        [35.144654561306666, 129.0352597682047], [35.144740591544846, 129.03534548851434], [35.14547980421942, 129.0356484568564],
        [35.14625094136804, 129.03646569946062], [35.146311263748075, 129.0366697324357], [35.14623943041934, 129.0368473293746],
        [35.14619763994223, 129.0368789869396], [35.14609154174153, 129.0368932841422], [35.14528479104881, 129.03669346727236],
        [35.14526030670494, 129.03666848732632], [35.145237759033066, 129.03661795672735], [35.14529820378566, 129.03662195842554],
        [35.14612917244348, 129.03682591450234], [35.14616634352413, 129.03681672993343], [35.14622064685156, 129.03677641011336],
        [35.14624216421693, 129.03658985033297], [35.146173837695414, 129.03648511340816], [35.14556973394333, 129.03583079547093],
        [35.14434221770705, 129.03553050801366], [35.14433973951971, 129.0354519198013], [35.145450359994925, 129.0357218983126],
        [35.144730142082196, 129.03541761621273], [35.14465702245374, 129.03536861619125], [35.144587696366, 129.03525276936466],
        [35.14456805485008, 129.0351655019383], [35.14457224627125, 129.03505015949912], [35.14474476584523, 129.03449473512705],
        [35.14471677230203, 129.03444881324492]],
        # 지도 우측 하단
        [[35.13889791099879, 129.03434436159853], [35.13914855460318, 129.03447294159213], [35.13920997263742, 129.03438862584034],
        [35.13926174118397, 129.0343947482308], [35.13926174118397, 129.03454479248688], [35.13937286574382, 129.0346244243338],
        [35.13971707006225, 129.03466321314687], [35.13975213295849, 129.03458563462004], [35.13979227468394, 129.0345938094315],
        [35.1397554984963, 129.03469588038712], [35.13968115052933, 129.03472854672754], [35.139417964330704, 129.03469995043957],
        [35.139634537215514, 129.03485742073536], [35.14034326972272, 129.03506623261143], [35.14047235292146, 129.03518357658857],
        [35.140565057576865, 129.03540406718093], [35.14056875416962, 129.0354836650036], [35.14063973585813, 129.03572962299444],
        [35.140855093949895, 129.0358835181031], [35.141312861705444, 129.0359682294124], [35.141491107289184, 129.03618385885756],
        [35.14178008208586, 129.03645882206615], [35.14143588649077, 129.0362577423333], [35.1412328564881, 129.03602151005396],
        [35.14067255262633, 129.03595904103605], [35.1404802396865, 129.0357106756993], [35.140491927110205, 129.03540140264016],
        [35.140441016248246, 129.03528913799374], [35.14026307207381, 129.03514521616995], [35.14018792910022, 129.03510437497778],
        [35.139483693985824, 129.03488014440285], [35.138753518375125, 129.03438054405473]],
        # 효민축구장 도로
        [[35.14145397843696, 129.03626270556964], [35.14153083364688, 129.03622186441788], [35.14185003087971, 129.03635976430297],
        [35.142119817738944, 129.03634957093817], [35.1430580831297, 129.03676414387598], [35.14334132724433, 129.0370832603158],
        [35.14368214930623, 129.03731700638906], [35.14386855135356, 129.03729473507678], [35.14404935545981, 129.03735905896195],
        [35.144350891771964, 129.03729779625212], [35.14455154338749, 129.0373143262534], [35.14452229542633, 129.0373592383583],
        [35.144264142369636, 129.0373367653615], [35.14399430137409, 129.0373979941832], [35.14384726522334, 129.03733575547744],
        [35.14384726522334, 129.0373296330863], [35.14366767631218, 129.03735001977412], [35.14322430065964, 129.03701794287394],
        [35.14303336139581, 129.03680174048264], [35.14216453019128, 129.0364108180229], [35.14190887830627, 129.03640879949006],
        [35.142518410106334, 129.03672797378516], [35.14339024337146, 129.03763201627288], [35.14344115304674, 129.03774912584464],
        [35.14343448345281, 129.0379328452151], [35.143802044595574, 129.03789405648428], [35.143802044595574, 129.0379695825086],
        [35.14343613557374, 129.03800938202016], [35.14347456272091, 129.03835337281265], [35.143419370189534, 129.038386039153],
        [35.14335750801001, 129.0380100109902], [35.143354203831905, 129.03770279033074], [35.14245781116078, 129.036772687064]],
        #
        # 도로 끝
        #
    
    ]
    return JsonResponse(forbidden_zones_data, safe=False)

